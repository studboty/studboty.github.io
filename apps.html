<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamer Hubs - Apps</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Premium UI Styles */
        body {
            font-family: 'Inter', 'Segoe UI', sans-serif;
            margin: 0;
            background: linear-gradient(135deg, #1e1e2f 0%, #2a2a40 100%);
            color: #fff;
            min-height: 100vh;
        }

        /* Navigation */
        nav {
            background: rgba(30, 30, 48, 0.9);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 500;
            color: #ccc;
            transition: color 0.3s;
        }

        nav h3:hover {
            color: #fff;
        }

        /* Search Section */
        #search-section {
            text-align: center;
            padding: 40px 20px;
            background: transparent;
        }

        #search-section h1 {
            color: #fff;
            margin-bottom: 20px;
            font-size: 32px;
            font-weight: 700;
        }

        #app-search {
            width: 100%;
            max-width: 600px;
            padding: 15px 25px;
            font-size: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            outline: none;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            transition: 0.3s;
            backdrop-filter: blur(5px);
        }

        #app-search:focus {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
            border-color: #3b82f6;
        }

        /* App Grid */
        #itemList {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            gap: 25px;
            padding: 20px 40px;
            list-style: none;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Category Headers */
        .category-header {
            grid-column: 1 / -1;
            font-size: 20px;
            font-weight: 600;
            color: #3b82f6;
            margin-top: 30px;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* App Cards */
        #itemList li {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            border: 1px solid rgba(255, 255, 255, 0.05);
            aspect-ratio: 1/1;
            /* Square cards */
        }

        #itemList li:hover {
            transform: translateY(-5px) scale(1.02);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .thumb {
            width: 64px;
            height: 64px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            border-radius: 12px;
            margin-bottom: 15px;
            background-color: transparent;
            /* Icons usually have transparency */
        }

        .text-overlay {
            font-weight: 500;
            font-size: 14px;
            color: #eee;
            line-height: 1.4;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1e1e2f;
        }

        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #2563eb;
        }
    </style>
</head>

<body>

    <nav>
        <div id='nav-left'>
            <h3 id="back-btn" style="cursor:pointer;">&larr; Back to Games</h3>
        </div>
        <div id="nav-right">
            <h3 onclick="window.location.href='./active/index.html'">Proxy</h3>
        </div>
    </nav>

    <script>
        // Navigation Logic to preserve user role
        const backBtn = document.getElementById('back-btn');
        backBtn.onclick = () => {
            // Check URL params first (if they came from a bookmark/link with params)
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('admin') === 'True') {
                window.location.href = './games.html?admin=True';
                return;
            }
            if (urlParams.get('free') === 'True') {
                window.location.href = './games.html?free=True';
                return;
            }

            // Fallback to SessionStorage (if they navigated normally)
            if (sessionStorage.getItem("isAdmin") === "true") {
                window.location.href = './games.html?admin=True';
            } else if (sessionStorage.getItem("freeAccess") === "true") {
                window.location.href = './games.html?free=True';
            } else {
                // Return query
                window.location.href = './games.html?admin=False';
            }
        };
    </script>

    <div id="search-section">
        <h1 style="color:#333; margin-bottom:10px;">Apps Library</h1>
        <input type="text" id="app-search" placeholder="Search apps (e.g. Discord, AI, Math)...">
    </div>

    <ul id="itemList">
        <!-- Categories will be injected or structured here -->

        <!-- === GAMING & CLOUD === -->
        <div class="category-header">Gaming & Cloud</div>

        <li onclick="openProxy('https://play.geforcenow.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/play.geforcenow.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">GeForce Now</div>
        </li>
        <li onclick="openProxy('https://www.crazygames.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/crazygames.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">CrazyGames</div>
        </li>
        <li onclick="openProxy('https://now.gg/roblox')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/now.gg.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Roblox (Now.gg)</div>
        </li>
        <li onclick="openProxy('https://poki.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/poki.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Poki</div>
        </li>

        <!-- === STREAMING === -->
        <div class="category-header">Streaming</div>

        <li onclick="openProxy('https://www.youtube.com/?hl=en')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/youtube.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">YouTube</div>
        </li>
        <li onclick="openProxy('https://www.twitch.tv')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/twitch.tv.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Twitch</div>
        </li>
        <li onclick="openProxy('https://open.spotify.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/spotify.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Spotify</div>
        </li>
        <li onclick="openProxy('https://soundcloud.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/soundcloud.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">SoundCloud</div>
        </li>

        <!-- === AI & SOLVERS === -->
        <div class="category-header">AI & School Solvers (Free)</div>

        <li onclick="openProxy('https://www.blackbox.ai')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/blackbox.ai.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Blackbox AI</div>
        </li>
        <li onclick="openProxy('https://huggingface.co/chat/')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/huggingface.co.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">HuggingChat</div>
        </li>
        <li onclick="openProxy('https://www.wolframalpha.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/wolframalpha.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">WolframAlpha</div>
        </li>
        <li onclick="openProxy('https://www.symbolab.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/symbolab.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Symbolab</div>
        </li>
        <li onclick="openProxy('https://brainly.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/brainly.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Brainly</div>
        </li>
        <li onclick="openProxy('https://chatgpt.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/openai.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">ChatGPT (Web)</div>
        </li>

        <!-- === SOCIAL === -->
        <div class="category-header">Social</div>

        <li onclick="openProxy('https://discord.com/app')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/discord.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Discord</div>
        </li>
        <li onclick="openProxy('https://www.tiktok.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/tiktok.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">TikTok</div>
        </li>
        <li onclick="openProxy('https://www.reddit.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/reddit.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Reddit</div>
        </li>
        <li onclick="openProxy('https://www.instagram.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/instagram.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Instagram</div>
        </li>
        <li onclick="openProxy('https://twitter.com')">
            <div class="thumb"
                style="background-image: url('https://icons.duckduckgo.com/ip3/twitter.com.ico'); background-size: contain; background-repeat: no-repeat;">
            </div>
            <div class="text-overlay">Twitter / X</div>
        </li>

    </ul>

    <script src="js/uttils.js"></script>
    <script src="js/configstuff.js"></script>
    <script src="js/user.js"></script>
    <!-- Antiblock Protection -->
    <script src="js/antiblock.js"></script>

    <script>
        function openProxy(url) {
            window.location.href = 'active/loader.html?url=' + url;
        }

        // Search Functionality
        const searchInput = document.getElementById('app-search');
        searchInput.addEventListener('input', function () {
            const filter = this.value.toLowerCase();
            const items = document.querySelectorAll('#itemList li');

            items.forEach(item => {
                const text = item.innerText.toLowerCase();
                if (text.includes(filter)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });

            // Optional: Hide headers if all their children are hidden
            document.querySelectorAll('.category-header').forEach(header => {
                // This is a bit complex to do generic neighbor checking without wrapping, 
                // so we'll leave headers visible for now or just simple filtering.
            });
        });
    </script>

</body>

</html>